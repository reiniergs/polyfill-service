{"browsers":{"ie":"8 - 10"},"repo":"https://github.com/JamesMGreene/document.currentScript","license":"MIT","docs":"https://developer.mozilla.org/en-US/docs/Web/API/Document/currentScript","spec":"https://html.spec.whatwg.org/multipage/dom.html#dom-document-currentscript","notes":["This polyfill will not work in IE11 because of a critical design choice made Microsoft (\"Don't Call Me IE!\") [\\[1\\]](https://msdn.microsoft.com/en-us/library/ie/bg182625.aspx)[\\[2\\]](https://msdn.microsoft.com/en-us/library/ie/dn384059.aspx)[\\[3\\]](http://www.nczonline.net/blog/2013/07/02/internet-explorer-11-dont-call-me-ie/)[\\[4\\]](http://blog.getify.com/ie11-please-bring-real-script-preloading-back/) in order to avoid consumers receiving an unnecessarily downgraded experience on websites that were making logic branch and feature decisions based on browser detection rather than feature detection."],"detectSource":"'document' in this && 'currentScript' in this.document","testSource":"","baseDir":"document.currentScript","hasTests":true,"testsSource":"/* eslint-env mocha, browser */\n/* global proclaim, it */\n\nvar currentScriptDuringSynchronousEval = document.currentScript;\n\nit('returns the current script element when invoked during synchronous evaluation', function () {\n\tvar cs = currentScriptDuringSynchronousEval;\n\n\tproclaim.isNotNull(cs);\n\tproclaim.isTypeOf(cs, 'object');\n\tproclaim.equal(cs.nodeType, 1);  // Node.ELEMENT_NODE\n\tproclaim.equal(cs.nodeName, 'SCRIPT');\n\tproclaim.equal(cs.tagName.toUpperCase(), 'SCRIPT');\n\tproclaim.equal(cs.ownerDocument, document);\n\n\t// The rest of this test is highly dependent on the inner workings of\n\t// Polyfill.io's test runner...\n\tproclaim.equal(cs.src, '');\n\tproclaim.include(cs.innerHTML, 'describe(\\'document.currentScript\\',');\n});\n\nit('returns null when not invoked during synchronous evaluation', function () {\n\tproclaim.isNull(document.currentScript);\n});\n\nit('returns the current script element when invoked during dynamic evaluation', function () {\n\tvar script = document.createElement('script');\n\tscript.id = 'rnd' + (Math.random() * 1e9 | 0);\n\tscript['text' in script ? 'text' : 'innerHTML'] = 'if (document.currentScript === document.getElementById(\"' + script.id + '\")) document.currentScript.className = \"' + script.id + '\";';\n\tdocument.body.appendChild(script);\n\tproclaim.equal(script.id, script.className);\n\tdocument.body.removeChild(script);\n});"}